<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17613592905"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-17613592905');
    </script>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>APR Transportes</title>

    <!-- Script para redirecionar URLs limpas para hash URLs -->
    <script>
      (function() {
        const path = window.location.pathname;
        if (path !== '/' && !window.location.hash) {
          window.location.replace('/#' + path);
        }
      })();
    </script>

    <link rel="stylesheet" href="/assets/custom.css">
    <script type="module" crossorigin src="/assets/index-De8GpY7Q.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-DeKwEobi.css">

    <!-- ‚úÖ Estilos para banner e remo√ß√£o do bloco laranja abaixo -->
    <style>
      /* Banner principal: cobre toda a largura e fica centralizado */
      [style*="image-004.jpg"],
      [style*="image-004-mobile.jpg"] {
        background-size: cover !important;
        background-position: center !important;
        background-repeat: no-repeat !important;
        width: 100%;
        height: clamp(300px, 25vh, 420px); /* ajuste conforme desejar */
        display: block;
      }

      /* Altura menor no mobile */
      @media (max-width: 768px) {
        [style*="image-004.jpg"],
        [style*="image-004-mobile.jpg"] {
          height: 260px;
        }
      }

      /* üî∂ Remove imediatamente o FUNDO do bloco logo abaixo do banner,
         caso ele seja o "tapete/√°rea" colorida (s√≥lida ou gradiente)  */
      [style*="image-004.jpg"] + *,
      [style*="image-004-mobile.jpg"] + * {
        background: transparent !important;
        background-image: none !important;
        background-color: transparent !important;
        /* Se esse bloco era apenas um espa√ßador colorido, zera espa√ßamentos */
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        min-height: 0 !important;
      }

      /* Garantia extra: se o pr√≥prio banner recebeu uma cor de fundo */
      [style*="image-004.jpg"],
      [style*="image-004-mobile.jpg"] {
        background-color: transparent !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Tag can√¥nica din√¢mica -->
    <script>
      const baseUrl = 'https://www.aprtransportes.com.br';
      const canonicalUrl = baseUrl + window.location.pathname;

      let link = document.querySelector("link[rel='canonical']");
      if (!link) {
        link = document.createElement('link');
        link.rel = 'canonical';
        document.head.appendChild(link);
      }
      link.href = canonicalUrl;
    </script>

    <!-- Script que aplica imagem do banner ap√≥s renderiza√ß√£o do React -->
    <script>
      const isMobile = window.innerWidth <= 768;
      const targetImage = isMobile
        ? "url('/assets/image-004-mobile.jpg')"
        : "url('/assets/image-004.jpg')";

      const applyBackgroundFix = () => {
        const bannerElement = document.querySelector(
          '[style*="image-004.jpg"], [style*="image-004-mobile.jpg"]'
        );
        if (bannerElement) {
          bannerElement.style.backgroundImage = targetImage;

          /* üî∂ Remo√ß√£o program√°tica de um poss√≠vel bloco laranja logo abaixo,
             mesmo que n√£o pegue pelo CSS (ex.: classe din√¢mica do React). */
          const next = bannerElement.nextElementSibling;
          if (next) {
            const cs = getComputedStyle(next);
            const bg = (cs.backgroundImage || '') + ' ' + (cs.backgroundColor || '');
            // detecta laranja/gradiente comum (#ff6600) e remove
            if (/ff6600|linear-gradient|orange/i.test(bg)) {
              next.style.background = 'transparent';
              next.style.backgroundImage = 'none';
              next.style.backgroundColor = 'transparent';
              next.style.paddingTop = '0';
              next.style.paddingBottom = '0';
              next.style.minHeight = '0';
            }
          }

          observer.disconnect();
        }
      };

      const observer = new MutationObserver(applyBackgroundFix);

      observer.observe(document.body, {
        childList: true,
        subtree: true,
      });

      window.addEventListener('load', applyBackgroundFix);
      window.addEventListener('resize', applyBackgroundFix);
    </script>

    <!-- Script para redirecionar ap√≥s envio do formul√°rio -->
    <script>
      const observerForm = new MutationObserver(() => {
        const msg = [...document.querySelectorAll("div, p, span")]
          .find(el => el.textContent.includes("Obrigado"));
        if (msg) {
          window.location.href = "/obrigado.html";
        }
      });

      observerForm.observe(document.body, { childList: true, subtree: true });
    </script>
  </body>
</html>
